<!-- Stores the block in variable in a hash under the key :navbar_top -->
<!-- This hash can be acessed later on during the rendering process by calling yield :navbar_top -->
<% content_for :navbar_top do %>
  <%= render 'shared/navbar_top', locals: {human: @human} %>
<% end %>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-9">
      <!-- Search bar -->
      <div data-controller='refresh-list'>
        <div class="SearchBar-container">
            <%= form_with url: search_human_biomarkers_path(@human), method: :get, html: { class: 'SearchBar-form', data: { refresh_list_target: 'form' } } do |f| %>
              <div class="SearchBar-inputWrapper">
                <%= f.text_field :query,
                                  class: "SearchBar-input",
                                  placeholder:"Digite um biomarcador",
                                  value: params[:query],
                                  data: {
                                        refresh_list_target:'searchInput',
                                        action: "keyup->refresh-list#update"
                                  }
                %>
                <span class="SearchBar-icon">
                  <i class="fa fa-search SearchBar-iconElement"></i>
                </span>
              </div>
            <% end %>
        </div>

        <!-- Biomarkers list -->
        <div data-refresh-list-target='list'>
          <% @biomarkers.each do |biomarker| %>
            <!-- Result Card -->
              <%= render "shared/result_card", locals: result_card_attributes(@human, biomarker) %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
