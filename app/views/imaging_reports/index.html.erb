<!-- Stores the block in variable in a hash under the key :navbar_top -->
<!-- This hash can be acessed later on during the rendering process by calling yield :navbar_top -->
<% content_for :navbar_top do %>
  <%= render 'shared/navbar_top', locals: {human: @human} %>
<% end %>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-9">
      <!-- Search bar -->
      <div data-controller="refresh-list">
        <div class="SearchBar-container">
          <%= form_with url: human_imaging_reports_path(@human), method: :get, html: { class: 'SearchBar-form', data: { refresh_list_target: 'form' } } do |f| %>
            <div class="SearchBar-inputWrapper">
              <%= f.text_field :query,
                                class: "SearchBar-input",
                                placeholder: 'Parte corporal, exame ou laudo',
                                value: params[:query],
                                data: {
                                      refresh_list_target: 'searchInput',
                                      action: "keyup->refresh-list#update"
                                }
              %>
              <span class="SearchBar-icon">
                <i class="fa fa-search SearchBar-iconElement"></i>
              </span>
            </div>
          <% end %>
        </div>

        <!-- Biomarkers list -->
        <div data-refresh-list-target="list">
          <% @imaging_reports.each do |imaging_report| %>
            <!-- Result Card -->
            <%= render "shared/result_card", locals: {
              link: human_imaging_report_path(@human.id, imaging_report[:id]),
              icon_path: "fa-solid fa-circle-radiation", #fa-solid fa-chart-line fa-light fa-x-ray fa-regular fa-image
              title: "#{imaging_report[:title][0]} #{imaging_report[:title][1]}",
              key_info: imaging_report[:imaging_method],
              status: nil,
              date: imaging_report[:date],
              labels: imaging_report[:label_system],
              data_type: imaging_report[:data_type]
            }
            %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
